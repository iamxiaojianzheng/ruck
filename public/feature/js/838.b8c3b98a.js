(self["webpackChunkfeature"]=self["webpackChunkfeature"]||[]).push([[838],{2655:function(e,t,a){"use strict";var n=a(81832),l=a(4507),r=a(20844),s=a(17057),o=a(33565),i=a(53128),c=a(11561),u=a(87597),d=a(71954),v=a(98815),f=a(56113),p=!f&&!d("map",function(){}),g=!f&&!p&&v("map",TypeError),b=f||p||g,k=i(function(){var e=this.iterator,t=s(l(this.next,e)),a=this.done=!!t.done;if(!a)return c(e,this.mapper,[t.value,this.counter++],!0)});n({target:"Iterator",proto:!0,real:!0,forced:b},{map:function(e){s(this);try{r(e)}catch(t){u(this,"throw",t)}return g?l(g,this,e):new k(o(this),{mapper:e})}})},10170:function(e,t,a){var n="Expected a function",l=NaN,r="[object Symbol]",s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,v="object"==typeof self&&self&&self.Object===Object&&self,f=d||v||Function("return this")(),p=Object.prototype,g=p.toString,b=Math.max,k=Math.min,m=function(){return f.Date.now()};function h(e,t,a){var l,r,s,o,i,c,u=0,d=!1,v=!1,f=!0;if("function"!=typeof e)throw new TypeError(n);function p(t){var a=l,n=r;return l=r=void 0,u=t,o=e.apply(n,a),o}function g(e){return u=e,i=setTimeout(C,t),d?p(e):o}function h(e){var a=e-c,n=e-u,l=t-a;return v?k(l,s-n):l}function w(e){var a=e-c,n=e-u;return void 0===c||a>=t||a<0||v&&n>=s}function C(){var e=m();if(w(e))return F(e);i=setTimeout(C,h(e))}function F(e){return i=void 0,f&&l?p(e):(l=r=void 0,o)}function O(){void 0!==i&&clearTimeout(i),u=0,l=c=r=i=void 0}function L(){return void 0===i?o:F(m())}function S(){var e=m(),a=w(e);if(l=arguments,r=this,c=e,a){if(void 0===i)return g(c);if(v)return i=setTimeout(C,t),p(c)}return void 0===i&&(i=setTimeout(C,t)),o}return t=_(t)||0,y(a)&&(d=!!a.leading,v="maxWait"in a,s=v?b(_(a.maxWait)||0,t):s,f="trailing"in a?!!a.trailing:f),S.cancel=O,S.flush=L,S}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){return!!e&&"object"==typeof e}function C(e){return"symbol"==typeof e||w(e)&&g.call(e)==r}function _(e){if("number"==typeof e)return e;if(C(e))return l;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var a=i.test(e);return a||c.test(e)?u(e.slice(2),a?2:8):o.test(e)?l:+e}e.exports=h},20440:function(e,t,a){"use strict";a.d(t,{Ak:function(){return n}});let n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>(t&=63,e+=t<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_",e),"")},36080:function(e,t,a){"use strict";e.exports=a.p+"img/logo.3421f107.png"},40472:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"export",theme:"outlined"};t["default"]=a},40706:function(e,t,a){"use strict";t.A=void 0;var n=a(4126),l=s(a(43084)),r=s(a(85656));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){i(e,t,a[t])})}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=function(e,t){var a=o({},e,t.attrs);return(0,n.createVNode)(r["default"],o({},a,{icon:l["default"]}),null)};c.displayName="MinusCircleOutlined",c.inheritAttrs=!1;var u=c;t.A=u},43084:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};t["default"]=a},44333:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"};t["default"]=a},45296:function(e,t,a){"use strict";t.A=void 0;var n=a(4126),l=s(a(71490)),r=s(a(85656));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){i(e,t,a[t])})}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=function(e,t){var a=o({},e,t.attrs);return(0,n.createVNode)(r["default"],o({},a,{icon:l["default"]}),null)};c.displayName="PlusCircleOutlined",c.inheritAttrs=!1;var u=c;t.A=u},54750:function(e,t,a){"use strict";t.A=void 0;var n=a(4126),l=s(a(40472)),r=s(a(85656));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){i(e,t,a[t])})}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=function(e,t){var a=o({},e,t.attrs);return(0,n.createVNode)(r["default"],o({},a,{icon:l["default"]}),null)};c.displayName="ExportOutlined",c.inheritAttrs=!1;var u=c;t.A=u},55634:function(e,t,a){"use strict";var n=a(81832),l=a(4507),r=a(15302),s=a(20844),o=a(17057),i=a(33565),c=a(87597),u=a(98815),d=u("find",TypeError);n({target:"Iterator",proto:!0,real:!0,forced:d},{find:function(e){o(this);try{s(e)}catch(n){c(this,"throw",n)}if(d)return l(d,this,e);var t=i(this),a=0;return r(t,function(t,n){if(e(t,a++))return n(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},60563:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zM902 476H588v-76c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-76h314c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"import",theme:"outlined"};t["default"]=a},70231:function(e,t,a){"use strict";t.A=void 0;var n=a(4126),l=s(a(44333)),r=s(a(85656));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){i(e,t,a[t])})}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=function(e,t){var a=o({},e,t.attrs);return(0,n.createVNode)(r["default"],o({},a,{icon:l["default"]}),null)};c.displayName="CloudDownloadOutlined",c.inheritAttrs=!1;var u=c;t.A=u},71490:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};t["default"]=a},86148:function(e,t,a){"use strict";var n=a(58398),l=a.n(n);const r=l().create({baseURL:"https://ruck.jiahe.host/api/"});t.A={async getScanCode({scene:e}){const t=await r.get("/users/getScanCode",{params:{scene:e}});return t.data},async checkLoginStatus({scene:e}){const t=await r.post("/users/checkLoginStatus",{scene:e});return t.data},async getUserInfo({openId:e}){const t=await r.post("/users/getUserInfo",{openId:e});return t.data}}},93825:function(e,t,a){"use strict";t.A=void 0;var n=a(4126),l=s(a(60563)),r=s(a(85656));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){i(e,t,a[t])})}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=function(e,t){var a=o({},e,t.attrs);return(0,n.createVNode)(r["default"],o({},a,{icon:l["default"]}),null)};c.displayName="ImportOutlined",c.inheritAttrs=!1;var u=c;t.A=u},96838:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return rt}});var n={};a.r(n),a.d(n,{AUTUMN:function(){return C},SPRING:function(){return y},SUMMER:function(){return w},WINTER:function(){return _}});a(90327);var l=a(63773),r=a(45006),s=a(23294),o=a(20440),i=a(45296),c=a(40706),u=(a(28756),a(87698)),d=a(7204),v=a(10170),f=a.n(v),p={0:"That key has no keycode",3:"break",8:"backspace / delete",9:"tab",12:"clear",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause/break",20:"caps lock",21:"hangul",25:"hanja",27:"escape",28:"conversion",29:"non-conversion",32:"space",33:"page up",34:"page down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"left or right ⌘ key (firefox)",225:"altgr",226:"< /git >, left back slash",230:"GNOME Compose Key",231:"ç",233:"XF86Forward",234:"XF86Back",235:"non-conversion",240:"alphanumeric",242:"hiragana/katakana",243:"half-width/full-width",244:"kanji",251:"unlock trackpad (Chrome/Edge)",255:"toggle touchpad"},g=(0,r.pM)({__name:"localhost",setup(e){let t,a={register:"https://registry.npmmirror.com",database:"https://ruck.host/",access_token:""};try{const e=window.rubick.db.get("rubick-localhost-config");a=e.data,t=e._rev}catch(d){}const n=(0,s.KR)(JSON.parse(JSON.stringify(a))),o={register:[{required:!0,trigger:"change"}],database:[{required:!0,trigger:"change"}]},i={labelCol:{span:6},wrapperCol:{span:18}},c=()=>{n.value={register:"https://registry.npmmirror.com",database:"https://ruck.host/",access_token:""}},u=()=>{const e={_id:"rubick-localhost-config",data:(0,s.ux)(n.value)};t&&(e._rev=t),window.rubick.db.put(e),l["default"].success("设置成功！重启插件市场后生效！")};return(e,t)=>{const a=(0,r.g2)("a-alert"),l=(0,r.g2)("a-input"),s=(0,r.g2)("a-form-item"),d=(0,r.g2)("a-button"),v=(0,r.g2)("a-form");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(a,{message:e.$t("feature.settings.intranet.tips"),type:"warning",style:{"margin-bottom":"20px"}},null,8,["message"]),(0,r.bF)(v,(0,r.v6)({ref:"formRef",name:"custom-validation",model:n.value,rules:o},i),{default:(0,r.k6)(()=>[(0,r.bF)(s,{"has-feedback":"",label:e.$t("feature.settings.intranet.npmMirror"),name:"register"},{default:(0,r.k6)(()=>[(0,r.bF)(l,{value:n.value.register,"onUpdate:value":t[0]||(t[0]=e=>n.value.register=e),placeholder:"https://registry.npmmirror.com"},null,8,["value"])]),_:1},8,["label"]),(0,r.bF)(s,{"has-feedback":"",label:e.$t("feature.settings.intranet.dbUrl"),name:"database"},{default:(0,r.k6)(()=>[(0,r.bF)(l,{value:n.value.database,"onUpdate:value":t[1]||(t[1]=e=>n.value.database=e),placeholder:"https://ruck.host/"},null,8,["value"])]),_:1},8,["label"]),(0,r.bF)(s,{"has-feedback":"",label:e.$t("feature.settings.intranet.accessToken"),name:"access_token"},{default:(0,r.k6)(()=>[(0,r.bF)(l,{value:n.value.access_token,"onUpdate:value":t[2]||(t[2]=e=>n.value.access_token=e),placeholder:e.$t("feature.settings.intranet.placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),(0,r.bF)(s,{"wrapper-col":{span:18,offset:6}},{default:(0,r.k6)(()=>[(0,r.bF)(d,{type:"primary",onClick:u},{default:(0,r.k6)(()=>[...t[3]||(t[3]=[(0,r.eW)("确定",-1)])]),_:1}),(0,r.bF)(d,{style:{"margin-left":"10px"},onClick:c},{default:(0,r.k6)(()=>[...t[4]||(t[4]=[(0,r.eW)("恢复默认",-1)])]),_:1})]),_:1})]),_:1},16,["model"])])}}}),b=a(30188);const k=(0,b.A)(g,[["__scopeId","data-v-834f0860"]]);var m=k,h=a(95163);const y={theme:"SPRING",primaryColor:"#ff4ea4",errorColor:"#ed6d46",warningColor:"#e5a84b",successColor:"#c0d695",infoColor:"#aa8eeB"},w={theme:"SUMMER",primaryColor:"#6078ea",errorColor:"#ed6d46",warningColor:"#e5a84b",successColor:"#c0d695",infoColor:"#aa8eeB"},C={theme:"AUTUMN",primaryColor:"#f55555",errorColor:"#ed6d46",warningColor:"#e5a84b",successColor:"#c0d695",infoColor:"#aa8eeB"},_={theme:"WINTER",primaryColor:"#00b294",errorColor:"#e94829",warningColor:"#ed6d3d",successColor:"#c3d94e",infoColor:"#bfa782"},F={class:"user-info"},O={class:"settings-container"},L={class:"setting-item"},S={class:"title"},R={class:"settings-item-li"},$={class:"setting-item"},j={class:"title"},A={class:"settings-item-li"},N={class:"label"},x={class:"settings-item-li"},I={class:"label"},E={class:"settings-item-li"},K={class:"label"},U={class:"img-container"},P=["src"];var W={__name:"user-info",setup(e){const t=(0,s.Kh)({custom:{}}),{perf:a}=h.A.getConfig(),l=(0,s.KR)(a.custom.theme);t.custom=a.custom||{};const o=f()(async()=>{const{perf:e}=h.A.getConfig();h.A.setConfig(JSON.parse(JSON.stringify({perf:{...e,custom:t.custom}}))),await window.reRegisterHotKey()},100);(0,r.wB)(t,o);const{custom:i}=(0,s.QW)(t),c=()=>{const[e]=window.rubick.showOpenDialog({title:"请选择 logo 路径",filters:[{name:"images",extensions:["png"]}],properties:["openFile"]});t.custom.logo=`file://${e}`},d=()=>{t.custom={...t.custom,...n[l.value]}};return(e,t)=>{const a=(0,r.g2)("a-radio-button"),n=(0,r.g2)("a-radio-group"),o=(0,r.g2)("a-input"),v=(0,r.g2)("a-button");return(0,r.uX)(),(0,r.CE)("div",F,[(0,r.Lk)("div",O,[(0,r.Lk)("div",L,[(0,r.Lk)("div",S,(0,u.v_)(e.$t("feature.settings.account.themeColor")),1),(0,r.Lk)("div",R,[(0,r.bF)(n,{value:l.value,"onUpdate:value":t[0]||(t[0]=e=>l.value=e),"button-style":"solid",onChange:d},{default:(0,r.k6)(()=>[(0,r.bF)(a,{value:"SPRING"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.account.spring")),1)]),_:1}),(0,r.bF)(a,{value:"SUMMER"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.account.summer")),1)]),_:1}),(0,r.bF)(a,{value:"AUTUMN"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.account.autumn")),1)]),_:1}),(0,r.bF)(a,{value:"WINTER"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.account.winter")),1)]),_:1})]),_:1},8,["value"])])]),(0,r.Lk)("div",$,[(0,r.Lk)("div",j,(0,u.v_)(e.$t("feature.settings.account.personalized")),1),(0,r.Lk)("div",A,[(0,r.Lk)("div",N,(0,u.v_)(e.$t("feature.settings.account.greeting")),1),(0,r.bF)(o,{value:(0,s.R1)(i).placeholder,"onUpdate:value":t[1]||(t[1]=e=>(0,s.R1)(i).placeholder=e),class:"value"},null,8,["value"])]),(0,r.Lk)("div",x,[(0,r.Lk)("div",I,(0,u.v_)(e.$t("feature.settings.account.name")),1),(0,r.bF)(o,{value:(0,s.R1)(i).username,"onUpdate:value":t[2]||(t[2]=e=>(0,s.R1)(i).username=e),class:"value"},null,8,["value"])]),(0,r.Lk)("div",E,[(0,r.Lk)("div",K,(0,u.v_)(e.$t("feature.settings.account.logo")),1),(0,r.Lk)("div",U,[(0,r.Lk)("img",{class:"custom-img",src:(0,s.R1)(i).logo},null,8,P),(0,r.bF)(v,{class:"btn",shape:"round",size:"small",type:"primary",onClick:c},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.account.replace")),1)]),_:1})])])])])])}}};const M=W;var X=M;a(99161),a(14799),a(2655);const z=["onClick"],D={key:0,class:"has-del"},H="rubick-local-start-app";var T={__name:"local-start",setup(e){const t=window.require("fs"),a=window.require("process"),n=(0,s.KR)(window.rubick.dbStorage.getItem(H)||[]),l=()=>{n.value=n.value.map(e=>t.existsSync(e.desc)?e:{...e,del:!0})};l();const o=e=>{const t=Array.from(e.dataTransfer.files).map(e=>{const t="win32"===a.platform?`start "dummyclient" "${e.path}"`:`open ${e.path.replace(/ /g,"\\ ")}`,n={icon:window.rubick.getFileIcon(e.path),value:"plugin",desc:e.path,pluginType:"app",name:e.name,action:t,keyWords:[e.name],names:[e.name]};return window.market.addLocalStartPlugin(n),n});n.value=[...n.value,...t],window.rubick.dbStorage.setItem(H,JSON.parse(JSON.stringify(n.value)))},i=e=>{n.value=n.value.filter(t=>t.desc!==e.desc),window.rubick.dbStorage.setItem(H,JSON.parse(JSON.stringify(n.value))),window.market.removeLocalStartPlugin(JSON.parse(JSON.stringify(e)))},c=e=>{e.preventDefault()};return(e,t)=>{const a=(0,r.g2)("a-alert"),l=(0,r.g2)("a-avatar"),s=(0,r.g2)("a-list-item-meta"),v=(0,r.g2)("a-list-item"),f=(0,r.g2)("a-list");return(0,r.uX)(),(0,r.CE)("div",{class:"file-container",onDrop:(0,d.D$)(o,["prevent"]),onDragenter:c,onDragover:c},[(0,r.bF)(a,{message:"可拖放文件夹到这里加入启动",type:"info","show-icon":""}),(0,r.bF)(f,{"item-layout":"horizontal","data-source":n.value},{renderItem:(0,r.k6)(({item:e})=>[(0,r.bF)(v,null,{actions:(0,r.k6)(()=>[(0,r.Lk)("a",{key:"list-loadmore-edit",onClick:()=>i(e)},"移除",8,z)]),default:(0,r.k6)(()=>[(0,r.bF)(s,{description:e.desc},{title:(0,r.k6)(()=>[(0,r.Lk)("div",null,[(0,r.Lk)("span",{class:(0,u.C4)(e.del?"del-title":"")},(0,u.v_)(e.name),3),e.del?((0,r.uX)(),(0,r.CE)("span",D,"文件不存在")):(0,r.Q3)("",!0)])]),avatar:(0,r.k6)(()=>[(0,r.bF)(l,{shape:"square",src:e.icon},null,8,["src"])]),_:2},1032,["description"])]),_:2},1024)]),_:1},8,["data-source"])],32)}}};const J=T;var V=J,B=a(22629),Q=a(57858),q=a(70231),G=a(79862),Y=a(93825),Z=a(54750),ee=(a(14117),a(45959)),te=(a(55634),a(13956)),ae=a(412);const ne={class:"export-header"},le=["onClick"],re={key:"list-loadmore-edit"},se=["onClick"],oe={style:{color:"var(--color-text-content)"}},ie={style:{color:"var(--color-text-desc)"}},ce=["onClick"];var ue={__name:"database",setup(e){const{t:t}=(0,ae.s9)(),n=(0,s.KR)(!1),o=(0,s.KR)(!1),i=(0,s.KR)(!1),c=(0,s.KR)({plugin:{}}),v=(0,s.KR)({}),f=window.rubick.dbStorage.getItem("rubick-db-jg-webdav")||{url:"https://dav.jianguoyun.com/dav/",username:"",password:""};f.suport||(f.suport="jianguo");const p=(0,s.Kh)(f),g=e=>{n.value=!0,c.value=e},b=()=>{window.rubick.dbStorage.setItem("rubick-db-jg-webdav",JSON.parse(JSON.stringify(p))),l["default"].success("保存成功"),i.value=!1},k=e=>{o.value=!0,v.value=window.rubick.db.get(e)},m=()=>{if(!p.password||!p.username)return i.value=!0;window.market.dbDump(JSON.parse(JSON.stringify(p)))},h=()=>{if(!p.password||!p.username)return i.value=!0;ee.A.confirm({title:"导入确认",content:"导入坚果云数据将会覆盖本地数据，是否确认导入？",onOk(){window.market.dbImport(JSON.parse(JSON.stringify(p)))}})},y=()=>{window.rubick.shellOpenExternal("https://help.jianguoyun.com/?p=2064")},w=(0,te.Pj)(),C=window.rubick.db.get("RUBICK_PLUGIN_INFO"),_=(0,r.EW)(()=>w.state.totalPlugins),F=(0,r.EW)(()=>C?C.data.map(e=>{let t=null;t=["rubick-system-feature"].includes(e.name)?{pluginName:"主程序",isdownload:!0,logo:a(36080)}:_.value.find(t=>t.name===e.name);const n=e.keys.map(e=>window.rubick.db.get(e));return{...e,plugin:t,data:n}}):[]),O=e=>w.dispatch("startDownload",e),L=e=>w.dispatch("successDownload",e),S=async e=>{O(e.name),await window.market.downloadPlugin(e),l["default"].success(t("feature.dev.installSuccess",{pluginName:e.name})),L(e.name)};return(e,t)=>{const a=(0,r.g2)("a-button"),l=(0,r.g2)("a-avatar"),f=(0,r.g2)("a-list-item-meta"),w=(0,r.g2)("a-list-item"),C=(0,r.g2)("a-list"),_=(0,r.g2)("a-drawer"),O=(0,r.g2)("a-modal"),L=(0,r.g2)("a-alert"),R=(0,r.g2)("a-select-option"),$=(0,r.g2)("a-select"),j=(0,r.g2)("a-form-item"),A=(0,r.g2)("a-input"),N=(0,r.g2)("a-input-password"),x=(0,r.g2)("a-form");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",ne,[(0,r.bF)(a,{size:"small",type:"primary",style:{"margin-right":"10px"},onClick:m},{icon:(0,r.k6)(()=>[(0,r.bF)((0,s.R1)(Z.A))]),default:(0,r.k6)(()=>[t[8]||(t[8]=(0,r.eW)(" 导出数据 ",-1))]),_:1}),(0,r.bF)(a,{danger:"",size:"small",style:{"margin-right":"10px","background-color":"var(--color-input-hover)"},onClick:h},{icon:(0,r.k6)(()=>[(0,r.bF)((0,s.R1)(Y.A))]),default:(0,r.k6)(()=>[t[9]||(t[9]=(0,r.eW)(" 导入数据 ",-1))]),_:1}),(0,r.bF)(a,{type:"link",size:"small",onClick:t[0]||(t[0]=e=>i.value=!0)},{icon:(0,r.k6)(()=>[(0,r.bF)((0,s.R1)(G.A))]),_:1})]),(0,r.bF)(C,{"item-layout":"horizontal","data-source":F.value},{renderItem:(0,r.k6)(({item:e})=>[(0,r.bF)(w,null,{actions:(0,r.k6)(()=>[e.plugin?.isdownload||e.plugin?.isloading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("a",{key:"list-loadmore-edit",onClick:()=>S(e.plugin)},[(0,r.bF)((0,s.R1)(q.A),{style:{"font-size":"18px"}})],8,le)),e.plugin?.isloading?((0,r.uX)(),(0,r.CE)("a",re,[(0,r.bF)((0,s.R1)(Q["default"]),{style:{"font-size":"18px"}})])):(0,r.Q3)("",!0),(0,r.Lk)("a",{key:"list-loadmore-edit",onClick:()=>g(e)},[(0,r.bF)((0,s.R1)(B.A),{style:{"font-size":"18px"}})],8,se)]),default:(0,r.k6)(()=>[(0,r.bF)(f,null,{title:(0,r.k6)(()=>[(0,r.Lk)("div",oe,[(0,r.Lk)("span",null,(0,u.v_)(e.plugin?.pluginName),1)])]),avatar:(0,r.k6)(()=>[(0,r.bF)(l,{shape:"square",src:e.plugin?.logo},null,8,["src"])]),description:(0,r.k6)(()=>[(0,r.Lk)("div",ie,[(0,r.Lk)("span",null,(0,u.v_)(e.keys.length)+" 份文档",1)])]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"]),(0,r.bF)(_,{visible:n.value,"onUpdate:visible":t[1]||(t[1]=e=>n.value=e),width:"400",closable:!1,title:c.value.plugin.pluginName,placement:"right",class:"exportDrawer"},{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.value.keys,e=>((0,r.uX)(),(0,r.CE)("p",{key:e,class:"key-item",onClick:()=>k(e)},(0,u.v_)(e),9,ce))),128))]),_:1},8,["visible","title"]),(0,r.bF)(O,{visible:o.value,"onUpdate:visible":t[2]||(t[2]=e=>o.value=e),centered:"","body-style":{maxHeight:"500px",overflow:"auto",backgroundColor:"var(--color-body-bg)",color:"var(--color-text-primary)"},footer:null,closable:!1},{default:(0,r.k6)(()=>[(0,r.Lk)("pre",null,(0,u.v_)(JSON.stringify(v.value,null,2)),1)]),_:1},8,["visible"]),(0,r.bF)(O,{visible:i.value,"onUpdate:visible":t[7]||(t[7]=e=>i.value=e),title:"webdav 账户配置",footer:null,class:"webdavModel"},{default:(0,r.k6)(()=>["jianguo"===p.suport?((0,r.uX)(),(0,r.Wv)(L,{key:0,style:{"margin-bottom":"20px"},type:"info","show-icon":""},{message:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"openHelp",onClick:y},"点击查看如何获取坚果云账号密码")]),_:1})):(0,r.Q3)("",!0),(0,r.bF)(x,{model:p,name:"basic","label-col":{span:8},"wrapper-col":{span:16},autocomplete:"off",onFinish:b},{default:(0,r.k6)(()=>[(0,r.bF)(j,{label:"webdav 提供商",name:"suport"},{default:(0,r.k6)(()=>[(0,r.bF)($,{value:p.suport,"onUpdate:value":t[3]||(t[3]=e=>p.suport=e)},{default:(0,r.k6)(()=>[(0,r.bF)(R,{value:"jianguo"},{default:(0,r.k6)(()=>[...t[10]||(t[10]=[(0,r.eW)("坚果云",-1)])]),_:1}),(0,r.bF)(R,{value:"auto"},{default:(0,r.k6)(()=>[...t[11]||(t[11]=[(0,r.eW)("自定义",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),(0,r.bo)((0,r.bF)(j,{label:"服务器地址",name:"url",rules:[{required:!0,message:"请填写服务器地址!"}]},{default:(0,r.k6)(()=>[(0,r.bF)(A,{value:p.url,"onUpdate:value":t[4]||(t[4]=e=>p.url=e)},null,8,["value"])]),_:1},512),[[d.aG,"auto"===p.suport]]),(0,r.bF)(j,{label:"账户",name:"username",rules:[{required:!0,message:"请填写 username!"}]},{default:(0,r.k6)(()=>[(0,r.bF)(A,{value:p.username,"onUpdate:value":t[5]||(t[5]=e=>p.username=e)},null,8,["value"])]),_:1}),(0,r.bF)(j,{label:"密码",name:"password",rules:[{required:!0,message:"请填写 password!"}]},{default:(0,r.k6)(()=>[(0,r.bF)(N,{value:p.password,"onUpdate:value":t[6]||(t[6]=e=>p.password=e)},null,8,["value"])]),_:1}),(0,r.bF)(j,{"wrapper-col":{offset:8,span:16}},{default:(0,r.k6)(()=>[(0,r.bF)(a,{type:"primary","html-type":"submit"},{default:(0,r.k6)(()=>[...t[12]||(t[12]=[(0,r.eW)("保存设置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])}}};const de=ue;var ve=de;const fe={class:"settings"},pe={class:"view-title"},ge={class:"view-container"},be={class:"settings-detail"},ke={key:1},me={class:"setting-item"},he={class:"title"},ye={class:"settings-item-li"},we={class:"label"},Ce={class:"settings-item-li"},_e={class:"label"},Fe={class:"settings-item-li"},Oe={class:"label"},Le={class:"setting-item"},Se={class:"title"},Re={class:"settings-item-li"},$e={class:"label"},je={class:"settings-item-li"},Ae={class:"label"},Ne={class:"settings-item-li"},xe={class:"label"},Ie={class:"settings-item-li"},Ee={class:"label"},Ke={class:"setting-item"},Ue={class:"title"},Pe={class:"settings-item-li"},We={class:"label"},Me={class:"setting-item"},Xe={class:"title"},ze={class:"settings-item-li"},De={class:"label"},He={key:2},Te={style:{"margin-top":"10px"}},Je={class:"feature-container"},Ve={class:"keywords item"},Be=["onKeyup"],Qe={class:"short-cut item"},qe=300;var Ge={__name:"index",setup(e){const{locale:t,t:a}=(0,ae.s9)(),{ipcRenderer:n}=window.require("electron"),l=[{title:a("feature.settings.global.example1"),desc:a("feature.settings.global.tips1")},{title:a("feature.settings.global.example2"),desc:a("feature.settings.global.tips2")}],o=(0,s.Kh)({shortCut:{},common:{},local:{},global:[],custom:{}}),v=(0,s.KR)(0),g=window?.rubick?.isWindows(),b=(0,r.EW)(()=>{const e=g?"Alt":"Option、Command";return a("feature.settings.global.addShortcutKeyTips",{optionKeyName:e})+"此外你也可以双击修饰键如（Ctrl+Ctrl）"}),k=e=>g?e.replace("Option","Alt").replace("Command","Win"):e,y=(0,s.KR)(["userInfo"]),{perf:w,global:C}=h.A.getConfig();o.shortCut=w.shortCut,o.custom=w.custom,o.common=w.common,o.local=w.local,o.global=C;const _=f()(async()=>{const{perf:e}=h.A.getConfig();h.A.setConfig(JSON.parse(JSON.stringify({perf:{...e,shortCut:o.shortCut,common:o.common,local:o.local},global:o.global}))),await window.reRegisterHotKey()},100);(0,r.wB)(o,_);const F=(e,t)=>{let a="";const n=Date.now(),l=n-v.value<qe;if(v.value=n,e.keyCode>=112&&e.keyCode<=123)return void(o.shortCut[t]=p[e.keyCode].toUpperCase());if(l){if(17===e.keyCode)return void(o.shortCut[t]="Ctrl+Ctrl");if(18===e.keyCode)return void(o.shortCut[t]="Option+Option");if(16===e.keyCode)return void(o.shortCut[t]="Shift+Shift");if(93===e.keyCode)return void(o.shortCut[t]="Command+Command")}let r=!1;e.ctrlKey&&17!==e.keyCode&&(a+="+Ctrl",r=!0),e.shiftKey&&16!==e.keyCode&&(a+="+Shift",r=!0),e.altKey&&18!==e.keyCode&&(a+="+Option",r=!0),e.metaKey&&93!==e.keyCode&&(a+="+Command",r=!0),r&&(a+="+"+p[e.keyCode].toUpperCase(),a=a.substring(1),o.shortCut[t]=a)},O=(e,t)=>{let a="",n=!1;e.ctrlKey&&17!==e.keyCode&&(a+="+Ctrl",n=!0),e.shiftKey&&16!==e.keyCode&&(a+="+Shift",n=!0),e.altKey&&18!==e.keyCode&&(a+="+Option",n=!0),e.metaKey&&93!==e.keyCode&&(a+="+Command",n=!0),a+="+"+p[e.keyCode].toUpperCase(),a=a.substring(1),n&&16!==e.keyCode&&17!==e.keyCode&&18!==e.keyCode&&93!==e.keyCode&&(o.global[t].key=a),!n&&e.keyCode>=112&&e.keyCode<=123&&(a=p[e.keyCode].toUpperCase(),o.global[t].key=a)},L=e=>{switch(e){case"Alt":o.shortCut["showAndHidden"]="Option+SPACE";break;case"Ctrl":o.shortCut["showAndHidden"]="Ctrl+SPACE";break;default:break}_()},S=(e,t)=>{o.global[e].value=t},R=(e,t)=>{o.global.splice(t,1)},$=()=>{o.global.push({key:"",value:""})},{shortCut:j,common:A,local:N,global:x}=(0,s.QW)(o),I=(0,s.KR)([{value:"zh-CN",label:a("feature.settings.basic.cn")},{value:"en-US",label:a("feature.settings.basic.en")}]),E=e=>{o.common.lang=e.key,t.value=e.key};return(e,t)=>{const a=(0,r.g2)("a-menu-item"),n=(0,r.g2)("a-menu"),v=(0,r.g2)("a-tooltip"),f=(0,r.g2)("a-switch"),p=(0,r.g2)("a-select"),h=(0,r.g2)("a-divider"),w=(0,r.g2)("a-list-item-meta"),C=(0,r.g2)("a-list-item"),_=(0,r.g2)("a-list"),N=(0,r.g2)("a-collapse-panel"),K=(0,r.g2)("a-collapse"),U=(0,r.g2)("a-input");return(0,r.uX)(),(0,r.CE)("div",fe,[(0,r.Lk)("div",pe,(0,u.v_)(e.$t("feature.settings.title")),1),(0,r.Lk)("div",ge,[(0,r.bF)(n,{"selected-keys":y.value,"onUpdate:selectedKeys":t[0]||(t[0]=e=>y.value=e),mode:"horizontal"},{default:(0,r.k6)(()=>[(0,r.bF)(a,{key:"userInfo"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.account.accountInfo")),1)]),_:1}),(0,r.bF)(a,{key:"normal"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.basic.title")),1)]),_:1}),(0,r.bF)(a,{key:"localstart"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.localstart.title")),1)]),_:1}),(0,r.bF)(a,{key:"global"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.global.title")),1)]),_:1}),(0,r.bF)(a,{key:"database"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.database.title")),1)]),_:1}),(0,r.bF)(a,{key:"localhost"},{default:(0,r.k6)(()=>[(0,r.eW)((0,u.v_)(e.$t("feature.settings.intranet.title")),1)]),_:1})]),_:1},8,["selected-keys"]),(0,r.Lk)("div",be,["userInfo"===y.value[0]?((0,r.uX)(),(0,r.Wv)((0,s.R1)(X),{key:0})):(0,r.Q3)("",!0),"normal"===y.value[0]?((0,r.uX)(),(0,r.CE)("div",ke,[(0,r.Lk)("div",me,[(0,r.Lk)("div",he,(0,u.v_)(e.$t("feature.settings.basic.shortcutKey")),1),(0,r.Lk)("div",ye,[(0,r.Lk)("div",we,(0,u.v_)(e.$t("feature.settings.basic.showOrHiddle")),1),(0,r.bF)(v,{placement:"top",trigger:"click"},{title:(0,r.k6)(()=>[(0,r.Lk)("span",null,(0,u.v_)(b.value),1),(0,s.R1)(g)?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[t[12]||(t[12]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("span",{style:{cursor:"pointer","text-decoration":"underline"},onClick:t[1]||(t[1]=e=>L("Alt"))}," Alt+Space "),(0,r.Lk)("span",{style:{cursor:"pointer","margin-left":"8px","text-decoration":"underline"},onClick:t[2]||(t[2]=e=>L("Ctrl"))}," Ctrl+Space ")],64)):(0,r.Q3)("",!0)]),default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"value",tabIndex:"-1",onKeydown:t[3]||(t[3]=e=>F(e,"showAndHidden"))},(0,u.v_)(k((0,s.R1)(j).showAndHidden)),33)]),_:1})]),(0,r.Lk)("div",Ce,[(0,r.Lk)("div",_e,(0,u.v_)(e.$t("feature.settings.basic.screenCapture")),1),(0,r.bF)(v,{placement:"top",trigger:"click"},{title:(0,r.k6)(()=>[(0,r.Lk)("span",null,(0,u.v_)(b.value),1)]),default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"value",tabIndex:"-1",onKeydown:t[4]||(t[4]=e=>F(e,"capture"))},(0,u.v_)(k((0,s.R1)(j).capture)),33)]),_:1})]),(0,r.Lk)("div",Fe,[(0,r.Lk)("div",Oe,(0,u.v_)(e.$t("feature.settings.basic.separate")),1),(0,r.bF)(v,{placement:"top",trigger:"click"},{title:(0,r.k6)(()=>[(0,r.Lk)("span",null,(0,u.v_)(b.value),1)]),default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"value",tabIndex:"-1",onKeydown:t[5]||(t[5]=e=>F(e,"separate"))},(0,u.v_)(k((0,s.R1)(j).separate)),33)]),_:1})])]),(0,r.Lk)("div",Le,[(0,r.Lk)("div",Se,(0,u.v_)(e.$t("feature.settings.basic.common")),1),(0,r.Lk)("div",Re,[(0,r.Lk)("div",$e,(0,u.v_)(e.$t("feature.settings.basic.autoPaste")),1),(0,r.bF)(f,{checked:(0,s.R1)(A).autoPast,"onUpdate:checked":t[6]||(t[6]=e=>(0,s.R1)(A).autoPast=e),"checked-children":e.$t("feature.settings.basic.on"),"un-checked-children":e.$t("feature.settings.basic.off")},null,8,["checked","checked-children","un-checked-children"])]),(0,r.Lk)("div",je,[(0,r.Lk)("div",Ae,(0,u.v_)(e.$t("feature.settings.basic.autoBoot")),1),(0,r.bF)(f,{checked:(0,s.R1)(A).start,"onUpdate:checked":t[7]||(t[7]=e=>(0,s.R1)(A).start=e),"checked-children":e.$t("feature.settings.basic.on"),"un-checked-children":e.$t("feature.settings.basic.off")},null,8,["checked","checked-children","un-checked-children"])]),(0,r.Lk)("div",Ne,[(0,r.Lk)("div",xe,(0,u.v_)(e.$t("feature.settings.basic.spaceExec")),1),(0,r.bF)(f,{checked:(0,s.R1)(A).space,"onUpdate:checked":t[8]||(t[8]=e=>(0,s.R1)(A).space=e),"checked-children":e.$t("feature.settings.basic.on"),"un-checked-children":e.$t("feature.settings.basic.off")},null,8,["checked","checked-children","un-checked-children"])]),(0,r.Lk)("div",Ie,[(0,r.Lk)("div",Ee,(0,u.v_)(e.$t("feature.settings.basic.history")),1),(0,r.bF)(f,{checked:(0,s.R1)(A).history,"onUpdate:checked":t[9]||(t[9]=e=>(0,s.R1)(A).history=e),"checked-children":e.$t("feature.settings.basic.on"),"un-checked-children":e.$t("feature.settings.basic.off")},null,8,["checked","checked-children","un-checked-children"])])]),(0,r.Lk)("div",Ke,[(0,r.Lk)("div",Ue,(0,u.v_)(e.$t("feature.settings.basic.theme")),1),(0,r.Lk)("div",Pe,[(0,r.Lk)("div",We,(0,u.v_)(e.$t("feature.settings.basic.darkMode")),1),(0,r.bF)(f,{checked:(0,s.R1)(A).darkMode,"onUpdate:checked":t[10]||(t[10]=e=>(0,s.R1)(A).darkMode=e),"checked-children":e.$t("feature.settings.basic.on"),"un-checked-children":e.$t("feature.settings.basic.off")},null,8,["checked","checked-children","un-checked-children"])])]),(0,r.Lk)("div",Me,[(0,r.Lk)("div",Xe,(0,u.v_)(e.$t("feature.settings.basic.language")),1),(0,r.Lk)("div",ze,[(0,r.Lk)("div",De,(0,u.v_)(e.$t("feature.settings.basic.changeLang")),1),(0,r.bF)(p,{value:o.common.lang,"onUpdate:value":t[11]||(t[11]=e=>o.common.lang=e),"label-in-value":"",style:{width:"240px"},options:I.value,onChange:E},null,8,["value","options"])])])])):(0,r.Q3)("",!0),"global"===y.value[0]?((0,r.uX)(),(0,r.CE)("div",He,[(0,r.bF)(K,null,{default:(0,r.k6)(()=>[(0,r.bF)(N,{key:"1",header:e.$t("feature.settings.global.instructions")},{default:(0,r.k6)(()=>[(0,r.Lk)("div",null,(0,u.v_)(e.$t("feature.settings.global.tips")),1),(0,r.Lk)("h3",Te,(0,u.v_)(e.$t("feature.settings.global.example")),1),(0,r.bF)(h,{style:{margin:"5px 0"}}),(0,r.bF)(_,{"item-layout":"horizontal","data-source":l},{renderItem:(0,r.k6)(({item:e})=>[(0,r.bF)(C,null,{default:(0,r.k6)(()=>[(0,r.bF)(w,{description:e.desc},{title:(0,r.k6)(()=>[(0,r.Lk)("div",null,(0,u.v_)(e.title),1)]),_:2},1032,["description"])]),_:2},1024)]),_:1})]),_:1},8,["header"])]),_:1}),(0,r.Lk)("div",Je,[(0,r.Lk)("div",Ve,[(0,r.Lk)("div",null,(0,u.v_)(e.$t("feature.settings.global.shortcutKey")),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,s.R1)(x),(t,a)=>((0,r.uX)(),(0,r.Wv)(v,{key:a,placement:"top",trigger:"click"},{title:(0,r.k6)(()=>[(0,r.Lk)("span",null,(0,u.v_)(b.value),1)]),default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"value",tabIndex:"2",onKeyup:e=>O(e,a)},[(0,r.eW)((0,u.v_)(t.key)+" ",1),(0,r.bF)((0,s.R1)(c.A),{onClick:(0,d.D$)(t=>R(e.e,a),["stop"])},null,8,["onClick"])],40,Be)]),_:2},1024))),128))]),(0,r.Lk)("div",Qe,[(0,r.Lk)("div",null,(0,u.v_)(e.$t("feature.settings.global.funtionKey")),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)((0,s.R1)(x),(e,t)=>((0,r.uX)(),(0,r.Wv)(U,{key:t,value:e.value,class:"value","allow-clear":"",disabled:!e.key,onChange:e=>S(t,e.target.value)},null,8,["value","disabled","onChange"]))),128))])]),(0,r.Lk)("div",{class:"add-global",onClick:$},[(0,r.bF)((0,s.R1)(i.A)),(0,r.eW)(" "+(0,u.v_)(e.$t("feature.settings.global.addShortcutKey")),1)])])):(0,r.Q3)("",!0),"localhost"===y.value[0]?((0,r.uX)(),(0,r.Wv)(m,{key:3})):(0,r.Q3)("",!0),"localstart"===y.value[0]?((0,r.uX)(),(0,r.Wv)((0,s.R1)(V),{key:4})):(0,r.Q3)("",!0),"database"===y.value[0]?((0,r.uX)(),(0,r.Wv)((0,s.R1)(ve),{key:5})):(0,r.Q3)("",!0)])])])}}};const Ye=Ge;var Ze=Ye,et=a(86148);const tt={class:"account"},at=["src"];var nt={__name:"user",setup(e){const t=(0,s.KR)(window.rubick.dbStorage.getItem("rubick-user-info")),a=(0,s.KR)(""),n=(0,o.Ak)(),i=(0,s.KR)(!1);let c=null;return(0,r.wB)([i],()=>{i.value?c=setInterval(()=>{et.A.checkLoginStatus({scene:n}).then(e=>{console.log(e),e.openId&&(window.rubick.dbStorage.setItem("rubick-user-info",e),t.value=e,l["default"].success("登录成功！"),i.value=!1,clearInterval(c),c=null)})},2e3):(clearInterval(c),c=null)}),(e,t)=>{const n=(0,r.g2)("a-result"),l=(0,r.g2)("a-modal");return(0,r.uX)(),(0,r.CE)("div",tt,[(0,r.bF)((0,s.R1)(Ze)),(0,r.bF)(l,{visible:i.value,"onUpdate:visible":t[0]||(t[0]=e=>i.value=e),footer:null},{default:(0,r.k6)(()=>[(0,r.bF)(n,{title:"请使用微信扫码登录!","sub-title":"使用微信扫描上面的 ruck 小程序二维码进行授权登录"},{icon:(0,r.k6)(()=>[(0,r.Lk)("img",{width:"200",src:a.value},null,8,at)]),_:1})]),_:1},8,["visible"])])}}};const lt=(0,b.A)(nt,[["__scopeId","data-v-769a4fe2"]]);var rt=lt}}]);